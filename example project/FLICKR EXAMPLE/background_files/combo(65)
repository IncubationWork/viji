YUI.add("account-settings-models",(function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-account-settings-permission"].run(t,this.appContext)}},attributes:{id:{},permissions:{}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-account-settings-permission-fetcher"]});YUI.add("flickr-account-settings-permission-fetcher",(function(e,r){"use strict";e.namespace("ModelFetchers")["flickr-account-settings-permission"]={run:function(i,s){var t=this,a=["default_hidden","prefs_default_license","prefs_default_family","prefs_default_public","prefs_default_friend","prefs_can_see_me_in_photos","prefs_default_comment","prefs_default_addmeta","prefs_isset_viewgeo","prefs_default_viewgeo","prefs_import_geoexif","default_content_type","safe_search","content_type_search","no_video_search","privacy_photos_hide_exif","privacy_profile_hide","perms_galleries","prefs_can_add_me_to_photos","prefs_api_optout","sharing_ok","privacy_photos_download","privacy_profile_email","privacy_profile_name","privacy_profile_location","photo_display_size","default_safety_level","privacy_photos_print"].join(",");return e.Promise.all([s.getModelRegistry("account-settings-models"),s.callAPI("flickr.prefs.getPrefs",{extras:a}),s.callAPI("flickr.profile.getProfile",{user_id:i.user_id}),s.callAPI("flickr.geofences.getList",{user_id:i.user_id})]).then((function(e){return t._processResponse(e,i)}),e.FetcherErrorLogger(r))},_processResponse:function(e,r){var i=e[0],s=e[1].settingsPrefs,t=e[2].profile,a=e[3],o={defaultUploads:{prefsDefaultPublic:s.prefsDefaultPublic,prefsDefaultFamily:s.prefsDefaultFamily,prefsDefaultFriend:s.prefsDefaultFriend,prefsDefaultComment:s.prefsDefaultComment,prefsDefaultAddmeta:s.prefsDefaultAddmeta,prefsDefaultLicense:s.prefsDefaultLicense,prefsIssetViewgeo:s.prefsIssetViewgeo,prefsDefaultViewgeo:s.prefsDefaultViewgeo,geofences:a.geofences,prefsImportGeoexif:s.prefsImportGeoexif,defaultSafetyLevel:s.defaultSafetyLevel,defaultContentType:s.defaultContentType,privacyPhotosPrint:s.privacyPhotosPrint},contentFilters:{safeSearch:s.safeSearch,contentTypeSearch:s.contentTypeSearch,noVideoSearch:s.noVideoSearch},globalSettings:{privacyPhotosHideExif:s.privacyPhotosHideExif,privacyProfileHide:s.privacyProfileHide,permsGalleries:s.permsGalleries,prefsCanAddMeToPhotos:s.prefsCanAddMeToPhotos,prefsApiOptout:s.prefsApiOptout,defaultHidden:s.defaultHidden,sharingOk:s.sharingOk,privacyPhotosDownload:s.privacyPhotosDownload,privacyProfileEmail:s.privacyProfileEmail,privacyProfileName:s.privacyProfileName,privacyProfileLocation:s.privacyProfileLocation,photoDisplaySize:s.photoDisplaySize,userFirstName:t.firstName,userLastName:t.lastName,userEmail:t.email,userCity:t.city}};return i.add({id:r.user_id,permissions:o}),i.proxy(r.user_id)}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["account-settings-models"]});